## 常用端口
|       应用       | 应用层协议 | 端口号 | 运输层协议 |                备注                |
| :--------------: | :--------: | :----: | :--------: | :--------------------------------: |
|     域名解析     |    DNS     |   53   |  UDP/TCP   | 区域传输使用TCP或者长度超过512字节 |
|   文件传送协议   |    FTP     | 20/21  |    TCP     |      控制连接 21，数据连接 20      |
|  超文本传送协议  |    HTTP    |   80   |    TCP     |             HTTPS为443             |
|   远程终端协议   |   TELNET   |   23   |    TCP     |                                    |
| 简单邮件传送协议 |    SMTP    |   25   |    TCP     |
|   邮件读取协议   |    POP3    |  110   |    TCP     |
| 网际报文存取协议 |    IMAP    |  143   |    TCP     |
| 动态主机配置协议 |    DHCP    | 67/68  |    UDP     |
| 简单文件传送协议 |    TFTP    |   69   |    UDP     |                                    |
## 域名系统DNS
DNS用于将域名解析为IP地址 
### 组成
**加载网页涉及 4 个 DNS 服务器**：  
* DNS 解析器 -  该解析器可被视为被要求去图书馆的某个地方查找特定图书的图书馆员。DNS 解析器是一种服务器，旨在通过 Web 浏览器等应用程序接收客户端计算机的查询。然后，解析器一般负责发出其他请求，以便满足客户端的 DNS 查询。
* 根域名服务器 - 根域名服务器是将人类可读的主机名转换（解析）为 IP 地址的第一步。可将其视为指向不同书架的图书馆中的索引 - 一般其作为对其他更具体位置的引用。
* TLD 域名服务器 - 顶级域服务器（TLD）可被视为图书馆中的特定书架。此域名服务器是搜索特定 IP 地址的下一步，其托管主机名的最后一部分（在 example.com 中，TLD 服务器为 “com”）。
* 权威性域名服务器 - 可将这个最终域名服务器视为书架上的字典，其中特定名称可被转换成其定义。权威性域名服务器是域名服务器查询中的最后一站。如果权威性域名服务器能够访问请求的记录，则其会将已请求主机名的 IP 地址返回到发出初始请求的 DNS 解析器（图书管理员）。
### DNS查找步骤
通常，DNS 查找信息将本地缓存在查询计算机内，或者远程缓存在 DNS 基础设施内。DNS 查找通常有 8 个步骤。缓存 DNS 信息时，将从 DNS 查找过程中跳过一些步骤，从而使该过程更快。以下示例概述了不缓存任何内容时的所有 8 个步骤。  
1. 用户在 Web 浏览器中键入 “example.com”，查询传输到 Internet 中，并被 DNS 递归解析器接收。

2. 接着，解析器查询 DNS 根域名服务器（.）。
3. 然后，根服务器使用存储其域信息的顶级域（TLD）DNS 服务器（例如 .com 或 .net）的地址响应该解析器。在搜索 example.com 时，我们的请求指向 .com TLD。
4. 然后，解析器向 .com TLD 发出请求。
5. TLD 服务器随后使用该域的域名服务器 example.com 的 IP 地址进行响应。
6. 最后，递归解析器将查询发送到域的域名服务器。
7. example.com 的 IP 地址而后从域名服务器返回解析器。
8. 然后 DNS 解析器使用最初请求的域的 IP 地址响应 Web 浏览器。DNS 查找的这 8 个步骤返回 example.com 的 IP 地址后，浏览器便能发出对该网页的请求：
9.  浏览器向该 IP 地址发出 HTTP 请求。
10. 位于该 IP 的服务器返回将在浏览器中呈现的网页（第 10 步）。


![](https://community-header-1306990603.cos.ap-guangzhou.myqcloud.com/20220106165403.png)

>注意递归查询和迭代查询的区别

### DNS劫持

域名劫持就是在劫持的网络范围内拦截域名解析的请求，分析请求的域名，把审查范围以外的请求放行，否则直接返回假的IP地址或者什么也不做使得请求失去响应，其效果就是对特定的网址不能访问或访问的是假网址。

## 文件传送协议FTP
## 动态主机配置协议
## 电子邮件协议